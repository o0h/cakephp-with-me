<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Plugins on cakephp-with-me</title>
    <link>https://cake.nichiyoubi.land/tags/plugins/</link>
    <description>Recent content in Plugins on cakephp-with-me</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Sat, 22 Dec 2018 16:16:36 +0900</lastBuildDate>
    
	<atom:link href="https://cake.nichiyoubi.land/tags/plugins/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>fixturize: テストの実行速度を大幅に改善させるプラグイン</title>
      <link>https://cake.nichiyoubi.land/posts/34-fixturize/</link>
      <pubDate>Sat, 22 Dec 2018 16:16:36 +0900</pubDate>
      
      <guid>https://cake.nichiyoubi.land/posts/34-fixturize/</guid>
      <description>※1人AdventのDay-22です
1人advent(CakePHP中心、PHP開発よもやま) Advent Calendar 2018 - Adventar
概要 friendsofcake/fixturizeは、CakePHPにおける単体テストの実行速度を大幅に改善させるプラグインです。
MySQL互換RDBMSで利用が可能で、導入は簡単です。
実際の利用方法と
イントロ CakePHPのTestSuiteでは、非常に簡単にDBと連携したフィクスチャデータを利用することができます。
予めPHPクラスとして記述しておいたスキーマやレコードの内容を、必要に応じて指定した通りに読み込む形です。
レコードの作成作業は、各テストケースの実行時に行われます。
このライフサイクルは直感的でクリーンさを保ちやすい一方で、懸念となるのは実行速度です。1つのテストケースごとに、毎回「テーブルの中身の破棄」「完全なデータのインサート」が行われるからです。
そうしたオーバーヘッドを削減するために作り出されたプラグインが、fixturizeです。
fixturizeの概要 FriendsOfCake/fixturize: CakePHP3: Improve performance of your fixture based tests on MySQL.
fixturizeは、既存の TestFixture クラスを当プラグインのクラスに置き換えることで実行されます。
通常のTestFixtureの処理をオーバーライドする形で、
 テストケース実行時(setUp)に 通常は「テーブルのトランケートを行う」ところで もし「今作成済みの対象テーブルの内容が、fixtureに記述された内容と差異がない」ことを確認できたら truncate/insert処理をスキップする  という機能を追加します。
そのために、「fixtureデータの作成・破棄・更新」に係るコストが省略されるわけです。
この結果、レポジトリにあるREADMEの内容を参照すると大変な時間短縮の成果を生み出しています。
導入 導入はとてもシンプルです。
READMEの内容をそのまま参照します。
 composerを利用してインストールする  composer require friendsofcake/fixturize  既存のfixtureの、継承元クラスを変更する   もちろん、extends CheckSumTestFixture をしても良いと思いますが、importを書き換えてaliasを当てる〜とした方が手間が少ないです   導入はこれだけで完了です。
実装詳細 それでは、どのように「無駄な更新はスキップする！」を実現しているのでしょうか。
具体的な実装内容について確認していきます。
ChecksumTestFixtureがオーバーライドしているメソッドは、 insert() truncate() drop() の3つのメソッドです。</description>
    </item>
    
    <item>
      <title>dereuromark/cakephp-dtoに触ってみる</title>
      <link>https://cake.nichiyoubi.land/posts/27-cakephp-dto/</link>
      <pubDate>Sat, 08 Dec 2018 18:12:32 +0900</pubDate>
      
      <guid>https://cake.nichiyoubi.land/posts/27-cakephp-dto/</guid>
      <description>※1人AdventのDay-8です
1人advent(CakePHP中心、PHP開発よもやま) Advent Calendar 2018 - Adventar
CakePHP開発者であるMark Sch.さんが、新しいプラグインを公開されていました。 [New]dereuromark/cakephp-dto CakePHP DTO Plugin https://t.co/vBFe8DJUPE
&amp;mdash; function(){exit;} (@call_user_func) 2018年12月8日 
名前の通り、CakePHPでDTOを扱うための実装のようです。
cf) Data Transfer Object - Wikipedia
おもしろそうなので、早速触ってみました。
ざっくりいうと何？  決められたプロパティを持つmutable/immutableなオブジェクトを扱いやすくするためのもの 決められたプロパティ = 型は、設定ファイルに記述していく それらの設定を、実クラス生成コマンドによって作成する 実際のクラスを生成するからIDE上での保管や静的解析との相性が良い  CakeDTOに触ってみる setup まずは、インストールです
composer require dereuromark/cakephp-dto:dev-master  Pluginを有効化します。1
bin/cake plugin load CakeDto -b  はじめてのDTO作成 ファイル初期生成用のコマンドが用意されています。
bin/cake dto init  これを実行すると、config/dto.xmlに以下のようなファイルが設置されます
&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt; &amp;lt;dtos xmlns=&amp;quot;cakephp-dto&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;cakephp-dto https://github.com/dereuromark/cakephp-dto&amp;quot;&amp;gt; &amp;lt;/dtos&amp;gt;  ・・・と言っておいて何ですが、個人的にYAMLでいきたいのでYAMLに書き換えます。 こちらのExampleを参考にしましょう。 /examples/basic.dto.yml</description>
    </item>
    
  </channel>
</rss>