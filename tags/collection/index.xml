<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Collection on cakephp-with-me</title>
    <link>https://cake.nichiyoubi.land/tags/collection/</link>
    <description>Recent content in Collection on cakephp-with-me</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Sun, 25 Mar 2018 20:35:59 +0900</lastBuildDate>
    
	<atom:link href="https://cake.nichiyoubi.land/tags/collection/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>コレクションを任意の順番で並び替える</title>
      <link>https://cake.nichiyoubi.land/posts/16-collection/</link>
      <pubDate>Sun, 25 Mar 2018 20:35:59 +0900</pubDate>
      
      <guid>https://cake.nichiyoubi.land/posts/16-collection/</guid>
      <description>コレクションを任意の順番で並び替える PHPを使っていると、「任意に順番を並び替えたキーに沿って、連想配列を並び替えたい」ということが意外と面倒くさかったりする。
MySQLでいう ORDER BY FIELD(field, idx1, idx2, idx3) みたいなやつ。
Collectionクラスを用いると簡単にできそうだな〜と思ったのでメモ。
$order = [2, 1, 3]; $data = collection([ [&#39;id&#39; =&amp;gt; 1, &#39;name&#39; =&amp;gt; &#39;John&#39;], [&#39;id&#39; =&amp;gt; 2, &#39;name&#39; =&amp;gt; &#39;Alice&#39;], [&#39;id&#39; =&amp;gt; 3, &#39;name&#39; =&amp;gt; &#39;Yui&#39;], ]); $orderMap = array_flip($order); $data = $data-&amp;gt;sortBy( function ($datum) use ($orderMap) { return $orderMap[$datum-&amp;gt;id]; }, SORT_ASC ) -&amp;gt;compile(false);  何をしているかというと、
 array_flipでもとの並び順を覚えさせて 対応順にarrayに位置を教えてあげる  というだけのもの。
Collectionクラスは、以前にQiitaにも書いた。
とても便利で強力なUtilityなので、使いこなしたい。
[CakePHP3]現場で使えるCollectionクラスの15選 - Qiita</description>
    </item>
    
  </channel>
</rss>